<!DOCTYPE HTML>
<html lang="it">
<head>
<!-- Generated by javadoc (23) on Fri Jun 27 06:28:45 CEST 2025 -->
<title>GameController</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2025-06-27">
<meta name="description" content="declaration: module: org.example.galaxy_trucker, package: org.example.galaxy_trucker.Controller, class: GameController">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../../../resource-files/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../resource-files/stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../../script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">const pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../module-summary.html">Module</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../search.html">Search</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="../../../../module-summary.html">org.example.galaxy_trucker</a></li>
<li><a href="package-summary.html">org.example.galaxy_trucker.Controller</a></li>
<li><a href="GameController.html" class="current-selection">GameController</a></li>
</ol>
<div class="nav-list-search">
<input type="text" id="search-input" disabled placeholder="Search" aria-label="Search in documentation" autocomplete="off">
<input type="reset" id="reset-search" disabled value="Reset">
</div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents&nbsp;
<input type="text" class="filter-input" disabled placeholder="Filter" aria-label="Filter table of contents" autocomplete="off">
<input type="reset" class="reset-filter" disabled value="Reset">
</div>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span>&#10094;</button><button class="show-sidebar">&#10095;<span>&nbsp;Show sidebar</span></button>
<ol class="toc-list">
<li><a href="#" tabindex="0">Description</a></li>
<li><a href="#constructor-summary" tabindex="0">Constructor Summary</a></li>
<li><a href="#method-summary" tabindex="0">Method Summary</a></li>
<li><a href="#constructor-detail" tabindex="0">Constructor Details</a>
<ol class="toc-list">
<li><a href="#%3Cinit%3E(java.lang.String,org.example.galaxy_trucker.Model.Game,org.example.galaxy_trucker.ClientServer.GamesHandler,int,int)" tabindex="0">GameController(String, Game, GamesHandler, int, int)</a></li>
</ol>
</li>
<li><a href="#method-detail" tabindex="0">Method Details</a>
<ol class="toc-list">
<li><a href="#setLobbyListener(org.example.galaxy_trucker.Controller.Listeners.LobbyListener)" tabindex="0">setLobbyListener(LobbyListener)</a></li>
<li><a href="#isStarted()" tabindex="0">isStarted()</a></li>
<li><a href="#getVirtualViewMap()" tabindex="0">getVirtualViewMap()</a></li>
<li><a href="#getControllerMap()" tabindex="0">getControllerMap()</a></li>
<li><a href="#NewPlayer(org.example.galaxy_trucker.Model.Player,org.example.galaxy_trucker.Controller.VirtualView,java.lang.String)" tabindex="0">NewPlayer(Player, VirtualView, String)</a></li>
<li><a href="#changeState()" tabindex="0">changeState()</a></li>
<li><a href="#addCommand(org.example.galaxy_trucker.Commands.Command)" tabindex="0">addCommand(Command)</a></li>
<li><a href="#removePlayer(java.lang.String,org.example.galaxy_trucker.Commands.Command)" tabindex="0">removePlayer(String, Command)</a></li>
<li><a href="#stopGame()" tabindex="0">stopGame()</a></li>
<li><a href="#setControllerMap(org.example.galaxy_trucker.Model.Player,org.example.galaxy_trucker.Controller.Controller)" tabindex="0">setControllerMap(Player, Controller)</a></li>
<li><a href="#startFlightMode()" tabindex="0">startFlightMode()</a></li>
<li><a href="#checkGameOver()" tabindex="0">checkGameOver()</a></li>
<li><a href="#setGameOver()" tabindex="0">setGameOver()</a></li>
<li><a href="#stopAllPlayerThreads()" tabindex="0">stopAllPlayerThreads()</a></li>
<li><a href="#setFlightCount(int)" tabindex="0">setFlightCount(int)</a></li>
<li><a href="#setBuildingCount(int)" tabindex="0">setBuildingCount(int)</a></li>
<li><a href="#getGame()" tabindex="0">getGame()</a></li>
<li><a href="#stopPlayer(java.lang.String)" tabindex="0">stopPlayer(String)</a></li>
<li><a href="#startPlayer(java.lang.String)" tabindex="0">startPlayer(String)</a></li>
<li><a href="#updatePlayers()" tabindex="0">updatePlayers()</a></li>
<li><a href="#sendGameLobbyUpdate(org.example.galaxy_trucker.ClientServer.Messages.GameLobbyEvent)" tabindex="0">sendGameLobbyUpdate(GameLobbyEvent)</a></li>
<li><a href="#onConcurrentCard(boolean)" tabindex="0">onConcurrentCard(boolean)</a></li>
<li><a href="#getlv()" tabindex="0">getlv()</a></li>
<li><a href="#check(org.example.galaxy_trucker.Commands.Command)" tabindex="0">check(Command)</a></li>
<li><a href="#sendMessage(org.example.galaxy_trucker.ClientServer.Messages.TileSets.LogEvent)" tabindex="0">sendMessage(LogEvent)</a></li>
<li><a href="#onReady()" tabindex="0">onReady()</a></li>
<li><a href="#onEndGame(boolean,java.lang.String,java.lang.String,org.example.galaxy_trucker.ClientServer.Messages.ScoreboardEvent)" tabindex="0">onEndGame(boolean, String, String, ScoreboardEvent)</a></li>
<li><a href="#getConnection(java.lang.String)" tabindex="0">getConnection(String)</a></li>
<li><a href="#getTokenToPlayerId()" tabindex="0">getTokenToPlayerId()</a></li>
</ol>
</li>
</ol>
</nav>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h1 title="Class GameController" class="title">Class GameController</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.example.galaxy_trucker.Controller.GameController</div>
</div>
<section class="class-description" id="class-description">
<div class="horizontal-scroll">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../ClientServer/Messages/ConcurrentCardListener.html" title="interface in org.example.galaxy_trucker.ClientServer.Messages">ConcurrentCardListener</a></code>, <code><a href="../ClientServer/Messages/FinishListener.html" title="interface in org.example.galaxy_trucker.ClientServer.Messages">FinishListener</a></code>, <code><a href="../ClientServer/Messages/ReadyListener.html" title="interface in org.example.galaxy_trucker.ClientServer.Messages">ReadyListener</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">GameController</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="../ClientServer/Messages/ConcurrentCardListener.html" title="interface in org.example.galaxy_trucker.ClientServer.Messages">ConcurrentCardListener</a>, <a href="../ClientServer/Messages/ReadyListener.html" title="interface in org.example.galaxy_trucker.ClientServer.Messages">ReadyListener</a>, <a href="../ClientServer/Messages/FinishListener.html" title="interface in org.example.galaxy_trucker.ClientServer.Messages">FinishListener</a></span></div>
<div class="block">The GameController class is responsible for managing the game's main state, including player interactions,
 commands, and overall game flow. It serves as the central hub for the game's operations, managing the players,
 their connections, and game state transitions.

 This class interacts directly with game components such as players, controllers, commands, and virtual views.
 It also handles essential game processes like starting the game, managing flight mode, checking for game over
 conditions, and sending updates to players and game lobby listeners.

 GameController further implements multiple listener interfaces to handle concurrent events, readiness, and the
 end of the game. These listeners ensure effective handling and notification of important events within
 the game lifecycle.

 Superclasses:
 - java.lang.Object
 - org.example.galaxy_trucker.Controller.Messages.ConcurrentCardListener
 - org.example.galaxy_trucker.Controller.Messages.ReadyListener
 - org.example.galaxy_trucker.Controller.Messages.FinishListener

 Fields:
 - idGame: Identifier for the game.
 - ControllerMap: Maps players to their corresponding controllers.
 - connectedPlayers: Tracks currently connected players.
 - commandQueues: Manages queues of commands for processing.
 - threads: Tracks threads associated with the game state.
 - VirtualViewMap: Maps player tokens to their virtual views.
 - tokenToPlayerId: Maps tokens to player IDs.
 - game: Represents the primary game instance this controller manages.
 - gh: The game handler instance managing multiple games.
 - flightQueue: Queue for managing flight mode actions.
 - flightThread: Thread associated with flight mode operations.
 - flightMode: Indicates whether flight mode is active.
 - flightCount: Tracks the number of flight-related actions.
 - buildingCount: Tracks the number of building-related actions.
 - GameOver: Indicates if the game is over.
 - started: Indicates if the game has started.
 - firstflight: Indicates the status of the first flight event.
 - concurrent: Tracks concurrent actions in the game.
 - color: Tracks color assignments for players.
 - lv: Level or difficulty setting of the game.
 - finished: Indicates if the game has finished.
 - maxPlayer: Maximum number of players allowed in the game.
 - lock: Synchronization lock for concurrency control.
 - prepThread: Preparation thread for pre-flight operations.
 - lobbyListener: Listener for lobby events.
 - gameLobbyListeners: Tracks all game lobby listeners.

 Methods:
 - setLobbyListener(LobbyListener lobbyListener): Sets a listener for the game lobby.
 - isStarted(): Checks if the game has started.
 - getVirtualViewMap(): Retrieves the map of player tokens to their virtual views.
 - GameController(String idGame, Game game, GamesHandler gh, int lv, int maxPlayer): Constructor to initialize the game controller.
 - getControllerMap(): Returns the map of players to their controllers.
 - NewPlayer(Player p, VirtualView vv, String token): Adds a new player to the game with their corresponding virtual view and token.
 - changeState(): Changes the game state.
 - addCommand(Command command): Adds a command to the processing queue.
 - removePlayer(String token, Command command): Removes a player from the game.
 - stopGame(): Stops the game.
 - setControllerMap(Player player, Controller controller): Maps a player to a specific controller.
 - startFlightMode(): Activates flight mode for the game.
 - checkGameOver(): Checks if the game is over.
 - setGameOver(): Marks the game as over.
 - stopAllPlayerThreads(): Stops all threads associated with players.
 - setFlightCount(int count): Sets the flight count for the game.
 - setBuildingCount(int count): Sets the building count for the game.
 - getGame(): Retrieves the current game instance.
 - stopPlayer(String token): Stops a specific player's thread.
 - startPlayer(String token): Starts a specific player's thread.
 - updatePlayers(): Updates all players with the latest game state.
 - sendGameLobbyUpdate(GameLobbyEvent event): Sends updates to game lobby listeners.
 - onConcurrentCard(boolean phase): Handles a concurrent card event.
 - getlv(): Retrieves the level or difficulty of the game.
 - check(Command command): Checks the validity or status of a command.
 - sendMessage(LogEvent event): Sends a log message to players or spectators.
 - onReady(): Handles events signaling readiness.
 - onEndGame(boolean success, String playerId, String message, ScoreboardEvent event): Handles the end-game process.
 - getConnection(String playerId): Checks the connection status of a player by ID.
 - getTokenToPlayerId(): Returns the map of tokens to player IDs.</div>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.lang.String,org.example.galaxy_trucker.Model.Game,org.example.galaxy_trucker.ClientServer.GamesHandler,int,int)" class="member-name-link">GameController</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;idGame,
 <a href="../Model/Game.html" title="class in org.example.galaxy_trucker.Model">Game</a>&nbsp;game,
 <a href="../ClientServer/GamesHandler.html" title="class in org.example.galaxy_trucker.ClientServer">GamesHandler</a>&nbsp;gh,
 int&nbsp;lv,
 int&nbsp;maxPlayer)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructs</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addCommand(org.example.galaxy_trucker.Commands.Command)" class="member-name-link">addCommand</a><wbr>(<a href="../Commands/Command.html" title="class in org.example.galaxy_trucker.Commands">Command</a>&nbsp;command)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Adds a command to the appropriate queue for the respective player or flight queue based on the current game state.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#changeState()" class="member-name-link">changeState</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Synchronizes and transitions the game state based on player readiness.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#check(org.example.galaxy_trucker.Commands.Command)" class="member-name-link">check</a><wbr>(<a href="../Commands/Command.html" title="class in org.example.galaxy_trucker.Commands">Command</a>&nbsp;command)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Checks various conditions for a game and returns appropriate messages.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#checkGameOver()" class="member-name-link">checkGameOver</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Checks if the game has reached its end and is over.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getConnection(java.lang.String)" class="member-name-link">getConnection</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;playerId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the connection status of a player based on their unique identifier.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/HashMap.html" title="class or interface in java.util" class="external-link">HashMap</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="Controller.html" title="class in org.example.galaxy_trucker.Controller">Controller</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getControllerMap()" class="member-name-link">getControllerMap</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the map of controllers associated with specific strings (e.g., player IDs or roles).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../Model/Game.html" title="class in org.example.galaxy_trucker.Model">Game</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getGame()" class="member-name-link">getGame</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the current game instance.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getlv()" class="member-name-link">getlv</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the level (lv) value associated with this GameController instance.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/HashMap.html" title="class or interface in java.util" class="external-link">HashMap</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTokenToPlayerId()" class="member-name-link">getTokenToPlayerId</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the mapping of tokens to player IDs.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/HashMap.html" title="class or interface in java.util" class="external-link">HashMap</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="VirtualView.html" title="class in org.example.galaxy_trucker.Controller">VirtualView</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getVirtualViewMap()" class="member-name-link">getVirtualViewMap</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the map of virtual views associated with their corresponding identifiers.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isStarted()" class="member-name-link">isStarted</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Checks whether the game has been started.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#NewPlayer(org.example.galaxy_trucker.Model.Player,org.example.galaxy_trucker.Controller.VirtualView,java.lang.String)" class="member-name-link">NewPlayer</a><wbr>(<a href="../Model/Player.html" title="class in org.example.galaxy_trucker.Model">Player</a>&nbsp;p,
 <a href="VirtualView.html" title="class in org.example.galaxy_trucker.Controller">VirtualView</a>&nbsp;vv,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;token)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Adds a new player to the game, initializes necessary components and listeners,
 and starts a</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onConcurrentCard(boolean)" class="member-name-link">onConcurrentCard</a><wbr>(boolean&nbsp;phase)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Handles the behavior when a concurrent card is drawn or activated during the game.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onEndGame(boolean,java.lang.String,java.lang.String,org.example.galaxy_trucker.ClientServer.Messages.ScoreboardEvent)" class="member-name-link">onEndGame</a><wbr>(boolean&nbsp;success,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;playerId,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;message,
 <a href="../ClientServer/Messages/ScoreboardEvent.html" title="class in org.example.galaxy_trucker.ClientServer.Messages">ScoreboardEvent</a>&nbsp;event)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Handles the end-of-game procedures for a player, including removing listeners,
 interrupting player threads, and updating the game state.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onReady()" class="member-name-link">onReady</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method is called when the system or component is ready.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removePlayer(java.lang.String,org.example.galaxy_trucker.Commands.Command)" class="member-name-link">removePlayer</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;token,
 <a href="../Commands/Command.html" title="class in org.example.galaxy_trucker.Commands">Command</a>&nbsp;command)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Removes a player from the game based on the given token and command.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sendGameLobbyUpdate(org.example.galaxy_trucker.ClientServer.Messages.GameLobbyEvent)" class="member-name-link">sendGameLobbyUpdate</a><wbr>(<a href="../ClientServer/Messages/GameLobbyEvent.html" title="class in org.example.galaxy_trucker.ClientServer.Messages">GameLobbyEvent</a>&nbsp;event)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sends an updated game lobby event to all registered listeners.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sendMessage(org.example.galaxy_trucker.ClientServer.Messages.TileSets.LogEvent)" class="member-name-link">sendMessage</a><wbr>(<a href="../ClientServer/Messages/TileSets/LogEvent.html" title="class in org.example.galaxy_trucker.ClientServer.Messages.TileSets">LogEvent</a>&nbsp;event)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sends a message to all registered VirtualViews.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setBuildingCount(int)" class="member-name-link">setBuildingCount</a><wbr>(int&nbsp;count)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Updates the total count of buildings by adding the specified value.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setControllerMap(org.example.galaxy_trucker.Model.Player,org.example.galaxy_trucker.Controller.Controller)" class="member-name-link">setControllerMap</a><wbr>(<a href="../Model/Player.html" title="class in org.example.galaxy_trucker.Model">Player</a>&nbsp;player,
 <a href="Controller.html" title="class in org.example.galaxy_trucker.Controller">Controller</a>&nbsp;controller)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Updates the controller map by associating a specified player with a given controller.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setFlightCount(int)" class="member-name-link">setFlightCount</a><wbr>(int&nbsp;count)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Updates the total count of flights by adding the specified value.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setGameOver()" class="member-name-link">setGameOver</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the game state to "Game Over" when a particular condition is met.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setLobbyListener(org.example.galaxy_trucker.Controller.Listeners.LobbyListener)" class="member-name-link">setLobbyListener</a><wbr>(<a href="Listeners/LobbyListener.html" title="interface in org.example.galaxy_trucker.Controller.Listeners">LobbyListener</a>&nbsp;lobbyListener)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the listener for handling lobby-related events in the game controller.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#startFlightMode()" class="member-name-link">startFlightMode</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Initiates the flight mode for the game, transitioning the game logic to a state where players must
 act according to the drawn card effects in a concurrent or sequential manner based on the card's configuration.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#startPlayer(java.lang.String)" class="member-name-link">startPlayer</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;token)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Starts the player session and initializes the necessary components for the player to resume gameplay.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#stopAllPlayerThreads()" class="member-name-link">stopAllPlayerThreads</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Stops all threads associated with player actions in the game controller.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#stopGame()" class="member-name-link">stopGame</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Stops the game and performs the necessary cleanup operations.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#stopPlayer(java.lang.String)" class="member-name-link">stopPlayer</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;token)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Disconnects a player and handles the associated cleanup and thread management.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updatePlayers()" class="member-name-link">updatePlayers</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Updates the list of players and their readiness status and sends a game lobby update event.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(java.lang.String,org.example.galaxy_trucker.Model.Game,org.example.galaxy_trucker.ClientServer.GamesHandler,int,int)">
<h3>GameController</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">GameController</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;idGame,
 <a href="../Model/Game.html" title="class in org.example.galaxy_trucker.Model">Game</a>&nbsp;game,
 <a href="../ClientServer/GamesHandler.html" title="class in org.example.galaxy_trucker.ClientServer">GamesHandler</a>&nbsp;gh,
 int&nbsp;lv,
 int&nbsp;maxPlayer)</span></div>
<div class="block">Constructs</div>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="setLobbyListener(org.example.galaxy_trucker.Controller.Listeners.LobbyListener)">
<h3>setLobbyListener</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setLobbyListener</span><wbr><span class="parameters">(<a href="Listeners/LobbyListener.html" title="interface in org.example.galaxy_trucker.Controller.Listeners">LobbyListener</a>&nbsp;lobbyListener)</span></div>
<div class="block">Sets the listener for handling lobby-related events in the game controller.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>lobbyListener</code> - the LobbyListener instance to be set. This listener will handle
                      lobby events, such as sending lobby updates or handling lobby-specific
                      events during the game lifecycle.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="isStarted()">
<h3>isStarted</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isStarted</span>()</div>
<div class="block">Checks whether the game has been started.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if the game has started, false otherwise.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getVirtualViewMap()">
<h3>getVirtualViewMap</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/HashMap.html" title="class or interface in java.util" class="external-link">HashMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="VirtualView.html" title="class in org.example.galaxy_trucker.Controller">VirtualView</a>&gt;</span>&nbsp;<span class="element-name">getVirtualViewMap</span>()</div>
<div class="block">Retrieves the map of virtual views associated with their corresponding identifiers.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="getControllerMap()">
<h3>getControllerMap</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/HashMap.html" title="class or interface in java.util" class="external-link">HashMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="Controller.html" title="class in org.example.galaxy_trucker.Controller">Controller</a>&gt;</span>&nbsp;<span class="element-name">getControllerMap</span>()</div>
<div class="block">Retrieves the map of controllers associated with specific strings (e.g., player IDs or roles).</div>
</div>
</section>
</li>
<li>
<section class="detail" id="NewPlayer(org.example.galaxy_trucker.Model.Player,org.example.galaxy_trucker.Controller.VirtualView,java.lang.String)">
<h3>NewPlayer</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">NewPlayer</span><wbr><span class="parameters">(<a href="../Model/Player.html" title="class in org.example.galaxy_trucker.Model">Player</a>&nbsp;p,
 <a href="VirtualView.html" title="class in org.example.galaxy_trucker.Controller">VirtualView</a>&nbsp;vv,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;token)</span></div>
<div class="block">Adds a new player to the game, initializes necessary components and listeners,
 and starts a</div>
</div>
</section>
</li>
<li>
<section class="detail" id="changeState()">
<h3>changeState</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">changeState</span>()</div>
<div class="block">Synchronizes and transitions the game state based on player readiness.
 If all players in the game are marked as ready,</div>
</div>
</section>
</li>
<li>
<section class="detail" id="addCommand(org.example.galaxy_trucker.Commands.Command)">
<h3>addCommand</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addCommand</span><wbr><span class="parameters">(<a href="../Commands/Command.html" title="class in org.example.galaxy_trucker.Commands">Command</a>&nbsp;command)</span></div>
<div class="block">Adds a command to the appropriate queue for the respective player or flight queue based on the current game state.
 The command is processed differently depending on whether the game is in flight mode or not.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>command</code> - the <a href="../Commands/Command.html" title="class in org.example.galaxy_trucker.Commands"><code>Command</code></a> instance to be added. It contains information about the player
                and the action to be executed. The method ensures that the command is added to the
                correct queue if the player is not disconnected and the queue for the player exists.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="removePlayer(java.lang.String,org.example.galaxy_trucker.Commands.Command)">
<h3>removePlayer</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removePlayer</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;token,
 <a href="../Commands/Command.html" title="class in org.example.galaxy_trucker.Commands">Command</a>&nbsp;command)</span></div>
<div class="block">Removes a player from the game based on the given token and command. This method ensures
 that the player is in a valid state to be removed, handles any associated cleanup, and
 removes the player from the game board if allowed. If the player cannot be removed
 due to their current state, an exception event is sent.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>token</code> - the unique identifier used to look up the player to be removed.</dd>
<dd><code>command</code> - the command associated with removing the player, used to validate
                the player's current state.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if the player ID corresponding to the token does
                                  not exist or is not valid.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="stopGame()">
<h3>stopGame</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">stopGame</span>()</div>
<div class="block">Stops the game and performs the necessary cleanup operations.

 This method ensures that all resources and data structures associated
 with the game are cleared and prepares the system for proper termination
 of the game session.

 Operations performed by this method include:
 - Clearing all active threads related to the game.
 - Emptying the command queues for game commands.
 - Clearing the controller map (associations between players and controllers).
 - Removing all players from the current game session.
 - Removing the game instance from the game handler.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="setControllerMap(org.example.galaxy_trucker.Model.Player,org.example.galaxy_trucker.Controller.Controller)">
<h3>setControllerMap</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setControllerMap</span><wbr><span class="parameters">(<a href="../Model/Player.html" title="class in org.example.galaxy_trucker.Model">Player</a>&nbsp;player,
 <a href="Controller.html" title="class in org.example.galaxy_trucker.Controller">Controller</a>&nbsp;controller)</span></div>
<div class="block">Updates the controller map by associating a specified player with a given controller.
 If an association already exists for the given player, it will be replaced with the new controller.
 Additionally, triggers specific game state transitions if certain conditions related
 to building or flight modes are met.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>player</code> - the Player instance to be mapped to the provided controller.</dd>
<dd><code>controller</code> - the Controller instance to be associated with the specified player.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="startFlightMode()">
<h3>startFlightMode</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">startFlightMode</span>()</div>
<div class="block">Initiates the flight mode for the game, transitioning the game logic to a state where players must
 act according to the drawn card effects in a concurrent or sequential manner based on the card's configuration.
 During flight mode activation:

 - If this is the first flight, the card decks will be merged.
 - A new card is drawn from the deck, and its effects are applied to the players.
 - The flight mode operates with either concurrent or sequential player actions, depending on the card's setup.
 - If a player is disconnected, a default action is executed on their behalf.
 - Player states are updated after actions or disconnection handling.
 - All players' readiness is reset at the end of the flight mode.

 The method utilizes threads to manage the flight phase, ensuring asynchronous handling of game flow.
 It logs key events, such as the start and end of the flight, and interactions during card effects.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="checkGameOver()">
<h3>checkGameOver</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">checkGameOver</span>()</div>
<div class="block">Checks if the game has reached its end and is over.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if the game is over, false otherwise.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="setGameOver()">
<h3>setGameOver</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setGameOver</span>()</div>
<div class="block">Sets the game state to "Game Over" when a particular condition is met.
 This method increments the `finished` counter, which tracks the number of
 players or components that have completed their part of the game. Once the
 `finished` counter equals the total number of entries in the `ControllerMap`,
 the gameboard's `finishGame` method is invoked to conclude the game.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="stopAllPlayerThreads()">
<h3>stopAllPlayerThreads</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">stopAllPlayerThreads</span>()</div>
<div class="block">Stops all threads associated with player actions in the game controller.

 This method iterates over the collection of player threads, interrupts each thread to halt its execution,
 and then clears the collection to remove any references to the stopped threads.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="setFlightCount(int)">
<h3>setFlightCount</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setFlightCount</span><wbr><span class="parameters">(int&nbsp;count)</span></div>
<div class="block">Updates the total count of flights by adding the specified value.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>count</code> - the number to be added to the current flight count. A positive value
              increments the flight count, while a negative value decrements it.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="setBuildingCount(int)">
<h3>setBuildingCount</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setBuildingCount</span><wbr><span class="parameters">(int&nbsp;count)</span></div>
<div class="block">Updates the total count of buildings by adding the specified value.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>count</code> - the number to be added to the current building count.
              A positive value increments the building count,
              while a negative value decrements it.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getGame()">
<h3>getGame</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../Model/Game.html" title="class in org.example.galaxy_trucker.Model">Game</a></span>&nbsp;<span class="element-name">getGame</span>()</div>
<div class="block">Retrieves the current game instance.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the <a href="../Model/Game.html" title="class in org.example.galaxy_trucker.Model"><code>Game</code></a> instance associated with this controller.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="stopPlayer(java.lang.String)">
<h3>stopPlayer</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">stopPlayer</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;token)</span></div>
<div class="block">Disconnects a player and handles the associated cleanup and thread management.

 This method:
 1. Retrieves the player ID associated with the given token.
 2. Marks the player as disconnected in the controller map and connectedPlayers map.
 3. Interrupts and removes any active thread associated with the player.
 4. Starts a new thread to handle the disconnection state. This thread manages the player's
    default actions if disconnected and ensures proper flow until certain conditions are met,
    such as game over or reconnection.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>token</code> - the unique identifier used to locate the player to be stopped.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="startPlayer(java.lang.String)">
<h3>startPlayer</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">startPlayer</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;token)</span></div>
<div class="block">Starts the player session and initializes the necessary components for the player to resume gameplay.
 This method handles player reconnection, thread management, and command processing setup.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>token</code> - the unique identifier associated with the player session. This token
              is used to retrieve the player ID and manage the player's session state.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="updatePlayers()">
<h3>updatePlayers</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">updatePlayers</span>()</div>
<div class="block">Updates the list of players and their readiness status and sends a game lobby update event.

 This method retrieves the current list of players and their readiness state
 using the game's internal data structures. It then constructs and sends a
 <a href="../ClientServer/Messages/GameLobbyEvent.html" title="class in org.example.galaxy_trucker.ClientServer.Messages"><code>GameLobbyEvent</code></a> to notify listeners of any changes in the game lobby.

 The method performs the following steps:
 1. Retrieves the list of player identifiers from the VirtualViewMap.
 2. Fetches the readiness state of each player from the game's player map.
 3. Constructs a <a href="../ClientServer/Messages/GameLobbyEvent.html" title="class in org.example.galaxy_trucker.ClientServer.Messages"><code>GameLobbyEvent</code></a> containing the list of players and their readiness states.
 4. Invokes <a href="#sendGameLobbyUpdate(org.example.galaxy_trucker.ClientServer.Messages.GameLobbyEvent)"><code>sendGameLobbyUpdate(GameLobbyEvent)</code></a> to dispatch the event to all registered listeners.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="sendGameLobbyUpdate(org.example.galaxy_trucker.ClientServer.Messages.GameLobbyEvent)">
<h3>sendGameLobbyUpdate</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">sendGameLobbyUpdate</span><wbr><span class="parameters">(<a href="../ClientServer/Messages/GameLobbyEvent.html" title="class in org.example.galaxy_trucker.ClientServer.Messages">GameLobbyEvent</a>&nbsp;event)</span></div>
<div class="block">Sends an updated game lobby event to all registered listeners.
 The method notifies each listener of changes in the game lobby state
 by invoking their <code>GameLobbyChanged</code> method with the provided event.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>event</code> - the <a href="../ClientServer/Messages/GameLobbyEvent.html" title="class in org.example.galaxy_trucker.ClientServer.Messages"><code>GameLobbyEvent</code></a> instance containing the updated
              state of the game lobby, including information about players
              and their readiness status.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="onConcurrentCard(boolean)">
<h3>onConcurrentCard</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onConcurrentCard</span><wbr><span class="parameters">(boolean&nbsp;phase)</span></div>
<div class="block">Handles the behavior when a concurrent card is drawn or activated during the game.
 This method sets the game's state to either operate in concurrent mode or not,
 based on the provided parameter.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../ClientServer/Messages/ConcurrentCardListener.html#onConcurrentCard(boolean)">onConcurrentCard</a></code>&nbsp;in interface&nbsp;<code><a href="../ClientServer/Messages/ConcurrentCardListener.html" title="interface in org.example.galaxy_trucker.ClientServer.Messages">ConcurrentCardListener</a></code></dd>
<dt>Parameters:</dt>
<dd><code>phase</code> - a boolean indicating the mode of operation:
              true to enable concurrent mode,
              false to disable concurrent mode.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getlv()">
<h3>getlv</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getlv</span>()</div>
<div class="block">Retrieves the level (lv) value associated with this GameController instance.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the integer value of the level (lv) for this GameController.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="check(org.example.galaxy_trucker.Commands.Command)">
<h3>check</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">check</span><wbr><span class="parameters">(<a href="../Commands/Command.html" title="class in org.example.galaxy_trucker.Commands">Command</a>&nbsp;command)</span></div>
<div class="block">Checks various conditions for a game and returns appropriate messages.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>command</code> - the command object containing game and player details to be checked</dd>
<dt>Returns:</dt>
<dd>a string message indicating the result of the check;
         returns an empty string if all conditions pass</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="sendMessage(org.example.galaxy_trucker.ClientServer.Messages.TileSets.LogEvent)">
<h3>sendMessage</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">sendMessage</span><wbr><span class="parameters">(<a href="../ClientServer/Messages/TileSets/LogEvent.html" title="class in org.example.galaxy_trucker.ClientServer.Messages.TileSets">LogEvent</a>&nbsp;event)</span></div>
<div class="block">Sends a message to all registered VirtualViews.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>event</code> - the log event containing the message to be sent</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="onReady()">
<h3>onReady</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onReady</span>()</div>
<div class="block">This method is called when the system or component is ready.
 It overrides the onReady method to perform necessary actions
 upon readiness. In this implementation, it updates the state
 of players by invoking the updatePlayers method.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../ClientServer/Messages/ReadyListener.html#onReady()">onReady</a></code>&nbsp;in interface&nbsp;<code><a href="../ClientServer/Messages/ReadyListener.html" title="interface in org.example.galaxy_trucker.ClientServer.Messages">ReadyListener</a></code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="onEndGame(boolean,java.lang.String,java.lang.String,org.example.galaxy_trucker.ClientServer.Messages.ScoreboardEvent)">
<h3>onEndGame</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onEndGame</span><wbr><span class="parameters">(boolean&nbsp;success,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;playerId,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;message,
 <a href="../ClientServer/Messages/ScoreboardEvent.html" title="class in org.example.galaxy_trucker.ClientServer.Messages">ScoreboardEvent</a>&nbsp;event)</span></div>
<div class="block">Handles the end-of-game procedures for a player, including removing listeners,
 interrupting player threads, and updating the game state. Sends appropriate events
 and updates connected players accordingly.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../ClientServer/Messages/FinishListener.html#onEndGame(boolean,java.lang.String,java.lang.String,org.example.galaxy_trucker.ClientServer.Messages.ScoreboardEvent)">onEndGame</a></code>&nbsp;in interface&nbsp;<code><a href="../ClientServer/Messages/FinishListener.html" title="interface in org.example.galaxy_trucker.ClientServer.Messages">FinishListener</a></code></dd>
<dt>Parameters:</dt>
<dd><code>success</code> - Indicates if the game ended successfully or if the player finished successfully.</dd>
<dd><code>playerId</code> - The unique identifier of the player who is ending their participation in the game.</dd>
<dd><code>message</code> - An optional message providing context or details about the end game scenario.</dd>
<dd><code>event</code> - An optional ScoreboardEvent detailing the outcome of the player's game session.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getConnection(java.lang.String)">
<h3>getConnection</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">getConnection</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;playerId)</span></div>
<div class="block">Retrieves the connection status of a player based on their unique identifier.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>playerId</code> - the unique identifier of the player whose connection status is to be retrieved</dd>
<dt>Returns:</dt>
<dd>true if the player is connected, false otherwise</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getTokenToPlayerId()">
<h3>getTokenToPlayerId</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/HashMap.html" title="class or interface in java.util" class="external-link">HashMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getTokenToPlayerId</span>()</div>
<div class="block">Retrieves the mapping of tokens to player IDs.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>A HashMap where the keys are tokens (String) and the values are corresponding player IDs (String).</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</body>
</html>
